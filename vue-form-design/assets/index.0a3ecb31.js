var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,r=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&s(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&s(e,l,t[l]);return e},i=(e,a)=>t(e,l(a));import{r as d,o as m,c,w as p,a as u,b as f,T as y,d as g,e as b,f as v,g as h,h as _,i as k,j as D,k as V,l as C,m as E,t as O,n as L,p as T,q as F,E as P,s as S,u as A,v as w,x,F as j,y as I,z as R,D as N,A as $,B as U,C as z,G as q,H as K,I as M,J,K as B,L as H,M as G,N as Z,O as W,P as Q,Q as X,R as Y,S as ee}from"./vendor.e07f640d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const te={};te.render=function(e,t){const l=d("router-view");return m(),c(l,null,{default:p((({Component:e})=>[u(y,{name:"left-fade",mode:"out-in"},{default:p((()=>[(m(),c(f(e)))])),_:2},1024)])),_:1})};const le={},ae=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in le)return;le[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},oe=[{name:"docs-useVerify",path:"/docs/useverify",component:()=>ae((()=>import("./useVerify.85e6acef.js")),["assets/useVerify.85e6acef.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-useInfo",path:"/docs/useinfo",component:()=>ae((()=>import("./useInfo.c7e5952f.js")),["assets/useInfo.c7e5952f.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-useBind",path:"/docs/usebind",component:()=>ae((()=>import("./useBind.e0565b53.js")),["assets/useBind.e0565b53.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-tableListDemo",path:"/docs/tablelistdemo",component:()=>ae((()=>import("./tableListDemo.70a9bbbb.js")),["assets/tableListDemo.70a9bbbb.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-tableList",path:"/docs/tablelist",component:()=>ae((()=>import("./tableList.d3da6585.js")),["assets/tableList.d3da6585.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-search",path:"/docs/search",component:()=>ae((()=>import("./search.342e554d.js")),["assets/search.342e554d.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-designFormDemo",path:"/docs/designformdemo",component:()=>ae((()=>import("./designFormDemo.cd4f5aa4.js")),["assets/designFormDemo.cd4f5aa4.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs-designForm",path:"/docs/designform",component:()=>ae((()=>import("./designForm.39fca492.js")),["assets/designForm.39fca492.js","assets/vendor.e07f640d.js"]),props:!0},{name:"docs",path:"/docs",component:()=>ae((()=>import("./index.730a2f48.js")),["assets/index.730a2f48.js","assets/vendor.e07f640d.js"]),props:!0}];console.log(oe);const ne=g({scrollBehavior:(e,t,l)=>l||{top:0},history:b(),routes:[{path:"/",name:"index",component:()=>ae((()=>import("./index.ac97b887.js")),["assets/index.ac97b887.js","assets/index.cff14e94.js","assets/vendor.e07f640d.js"])},{path:"/design",name:"design",component:()=>ae((()=>import("./designForm.530972fb.js")),["assets/designForm.530972fb.js","assets/vueFile.02730b28.js","assets/vendor.e07f640d.js","assets/index.6c162138.js","assets/index.cff14e94.js"])},{path:"/designTable",name:"designTable",component:()=>ae((()=>import("./designTable.b1c28413.js")),["assets/designTable.b1c28413.js","assets/vueFile.02730b28.js","assets/vendor.e07f640d.js","assets/index.6c162138.js","assets/index.cff14e94.js"])},{path:"/form",name:"form",component:()=>ae((()=>import("./form.4dd23f4e.js")),["assets/form.4dd23f4e.js","assets/vendor.e07f640d.js","assets/index.cff14e94.js","assets/index.6c162138.js"])},{path:"/list",name:"list",component:()=>ae((()=>import("./list.7dc3ce5b.js")),["assets/list.7dc3ce5b.js","assets/vendor.e07f640d.js","assets/index.cff14e94.js","assets/index.6c162138.js"])},{path:"/formList",name:"formList",component:()=>ae((()=>import("./index.1513491f.js")),["assets/index.1513491f.js","assets/index.cff14e94.js","assets/vendor.e07f640d.js"])},{path:"/export/form",name:"exportForm",component:()=>ae((()=>import("./form.91dbc01e.js")),["assets/form.91dbc01e.js","assets/vendor.e07f640d.js"])},{path:"/export/list",name:"exportList",component:()=>ae((()=>import("./list.a92ef45a.js")),["assets/list.a92ef45a.js","assets/vendor.e07f640d.js"])},{path:"/test",name:"test",component:()=>ae((()=>import("./test.9a5b7eea.js")),["assets/test.9a5b7eea.js","assets/vendor.e07f640d.js"])},{name:"docs",path:"/docs",component:()=>ae((()=>import("./layout.69f4094f.js")),["assets/layout.69f4094f.js","assets/layout.365f5a4e.css","assets/vendor.e07f640d.js"]),children:[...oe]}]});var se=v({modules:{form:{state:{controlAttr:{},activeKey:""},mutations:{setControlAttr(e,t){e.controlAttr=t},setActiveKey(e,t){e.activeKey=t}},actions:{}}}});const re=h.create({baseURL:"http://localhost:3001",timeout:6e3,headers:{}});re.interceptors.request.use((e=>e),(e=>{Promise.reject(e)})),re.interceptors.response.use((e=>e),(e=>Promise.reject(e)));const ie={name:"tooltip",data:()=>({}),props:{content:String},components:{},methods:{},computed:{},mounted(){}},de=["innerHTML"],me=_("i",{class:"icon-help"},null,-1);ie.render=function(e,t,l,a,o,n){const s=d("el-tooltip");return m(),c(s,{placement:"top"},{content:p((()=>[_("span",{innerHTML:l.content},null,8,de)])),default:p((()=>[me])),_:1})};const ce={name:"item",components:{Tooltip:ie},props:{element:Object,modelValue:null,tProps:String},emits:["update:modelValue"],setup(e,{emit:t}){const l=k("DFStatusType",{}),a=D({type:l.type,config:e.element.config,value:e.tProps?e.modelValue:e.element.control.modelValue});V((()=>e.element.control.modelValue),(e=>{a.value=e}));const o=a.config;if("async"===o.type&&1===o.source&&4!==a.type&&o.sourceFun&&(e.element.options=k(o.sourceFun,[])),e.element.customRules&&1===a.type){const t={mobile:/^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/,tel:/^0\d{2,3}-\d{7,8}$/,phone:/^((0\d{2,3}(-?)\d{7,8})|(1[3456789]\d{9}))$/,email:/^[a-z0-9A-Z._%-]+@([a-z0-9A-Z-]+\.)+[a-zA-Z]{2,4}$/,int:/^[0-9]*[1-9][0-9]*$/,number:/^\d+(\.\d+)?$/,card:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/};e.element.customRules.forEach((l=>{if(!l.message&&"methods"!==l.type)return;let a=!1;if(e.element.rules.forEach((e=>{l.message===e.message&&l.trigger===e.trigger&&(a=!0)})),!a){let a={};"required"===l.type?a={required:!0}:"rules"===l.type?a={pattern:l.rules}:"methods"===l.type?a={validator:k(l.methods,{})}:l.type&&t[l.type]&&(a={pattern:t[l.type]});let o={message:l.message};l.message||(o={}),e.element.rules.push(Object.assign({trigger:l.trigger||"blur"},a,o))}}))}if(e.element.rulesComm&&1===a.type){const t=k("DFFormRulesComm",[]);t&&t.value.length>0&&t.value.forEach((t=>{if(-1!==e.element.rulesComm.indexOf(t.key)){let l=!1;e.element.rules.forEach((e=>{t.key===e.key&&(l=!0)})),l||e.element.rules.push(t)}}))}"component"===e.element.type&&e.element.template&&(e.element.component=k(e.element.template,""));const n=C((()=>!!(1===l.type&&l.isEdit&&e.element.config&&e.element.config.editDisabled)||e.element.control.disabled)),s=k("DFControlChange","");V((()=>a.value),(l=>{e.tProps?t("update:modelValue",l):e.element.control.modelValue=l,s&&s({key:e.element.name,value:l})}));const i=k("DFSetFormValue","");V((()=>i.value),(()=>{i&&i.value&&!e.tProps&&(a.value=i.value[e.element.name],"upload"===e.element.type&&(e.element.control.fileList=JSON.parse(JSON.stringify(a.value))))}));const d=k("DFSetFormOptions","");V((()=>d.value),(()=>{d&&d.value&&!e.tProps&&(e.element.options=d.value[e.element.name])}));return E((()=>{(()=>{if("async"===o.type&&0===o.source&&4!==a.type){const t="option_fun_"+F(o.sourceFun),l=window.sessionStorage.getItem(t);l?e.element.options=JSON.parse(l):re[o.request](o.sourceFun,"").then((l=>{200===l.data.code&&(e.element.options=l.data.data,window.sessionStorage.setItem(t,JSON.stringify(l.data.data)))})).catch((e=>{console.log(e)}))}})()})),r({getLabel:e=>e.item?e.item.showLabel?"":e.item.label:"",editDisabled:n,uploadSuccess:(t,l,a)=>{console.log(l),e.element.control.modelValue.push({name:l.fileName,url:l.path}),e.element.control.onSuccess&&e.element.control.onSuccess(t,l,a)},uploadRemove:(t,l)=>{e.element.control.modelValue.forEach(((l,a)=>{l.url===t.url&&e.element.control.modelValue.splice(a,1)})),e.element.control.onRemove&&e.element.control.onRemove(t,l)},uploadError:(t,l,a)=>{console.log("uploadError"),P.error(l.name+"上传失败"),e.element.control.onError&&e.element.control.onError(t,l,a)}},O(a))}},pe=["innerHTML"],ue={key:1,class:"icon-plus"},fe={class:"el-upload__tip"},ye={key:11,class:"gray"},ge=["innerHTML"];ce.render=function(e,t,l,a,o,n){const s=d("Tooltip"),r=d("el-input"),i=d("el-radio"),y=d("el-radio-group"),g=d("el-checkbox"),b=d("el-checkbox-group"),v=d("el-option"),h=d("el-select"),k=d("el-date-picker"),D=d("el-switch"),V=d("el-input-number"),C=d("el-cascader"),E=d("el-button"),O=d("el-upload"),F=d("el-form-item");return m(),c(F,T(l.element.item,{prop:l.tProps||l.element.name,class:l.element.className,rules:l.element.rules&&l.element.rules.length>0?l.element.rules:void 0,label:a.getLabel(l.element)}),L({default:p((()=>[3===e.type?(m(),w("div",{key:0,class:"form-value",innerHTML:e.value},null,8,pe)):(m(),w(j,{key:1},["input"===l.element.type||"password"===l.element.type?(m(),c(r,T({key:0},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disabled:a.editDisabled,type:"password"===l.element.type?"password":""}),L({_:2},[l.element.slot&&l.element.slot.prepend?{name:"prepend",fn:p((()=>[S(A(l.element.slot.prepend),1)]))}:void 0,l.element.slot&&l.element.slot.append?{name:"append",fn:p((()=>[S(A(l.element.slot.append),1)]))}:void 0]),1040,["modelValue","disabled","type"])):x("",!0),"textarea"===l.element.type?(m(),c(r,T({key:1},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),disabled:a.editDisabled,type:"textarea"}),null,16,["modelValue","disabled"])):x("",!0),"radio"===l.element.type?(m(),c(y,T({key:2},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value=t)}),{default:p((()=>[(m(!0),w(j,null,I(l.element.options,((e,t)=>(m(),c(i,{key:t,label:e.value},{default:p((()=>[S(A(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},16,["disabled","modelValue"])):x("",!0),"checkbox"===l.element.type?(m(),c(b,T({key:3},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value=t)}),{default:p((()=>[(m(!0),w(j,null,I(l.element.options,((e,t)=>(m(),c(g,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},16,["disabled","modelValue"])):x("",!0),"select"===l.element.type?(m(),c(h,T({key:4},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.value=t)}),{default:p((()=>[(m(!0),w(j,null,I(l.element.options,(e=>(m(),c(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["disabled","modelValue"])):x("",!0),"datePicker"===l.element.type?(m(),c(k,T({key:5},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.value=t)}),null,16,["disabled","modelValue"])):x("",!0),"switch"===l.element.type?(m(),c(D,T({key:6},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.value=t)}),null,16,["disabled","modelValue"])):x("",!0),"number"===l.element.type?(m(),c(V,T({key:7},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=t=>e.value=t),disabled:a.editDisabled}),null,16,["modelValue","disabled"])):x("",!0),"cascader"===l.element.type?(m(),c(C,T({key:8},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[8]||(t[8]=t=>e.value=t),disabled:a.editDisabled,options:l.element.options}),null,16,["modelValue","disabled","options"])):x("",!0),"upload"===l.element.type?(m(),c(O,T({key:9,class:"upload-style"},l.element.control,{disabled:a.editDisabled,class:{limit:l.element.control.limit<=l.element.control.modelValue.length},"on-success":a.uploadSuccess,"on-remove":a.uploadRemove,"on-error":a.uploadError}),L({default:p((()=>[l.element.config.btnText?(m(),c(E,{key:0,type:"primary"},{default:p((()=>[S(A(l.element.config.btnText),1)])),_:1})):(m(),w("i",ue))])),_:2},[l.element.config.tip?{name:"tip",fn:p((()=>[_("div",fe,A(l.element.config.tip),1)]))}:void 0]),1040,["disabled","class","on-success","on-remove","on-error"])):x("",!0),"component"===l.element.type&&4!==e.type?(m(),c(f(l.element.component),T({key:10},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[9]||(t[9]=t=>e.value=t),disabled:a.editDisabled}),null,16,["modelValue","disabled"])):x("",!0),"component"===l.element.type&&""===l.element.component?(m(),w("div",ye," 请使用provide注入组件如：provide('"+A(l.element.template)+"', import进来的组件) ",1)):x("",!0),"txt"===l.element.type?(m(),w("div",T({key:12},l.element.control,{innerHTML:e.value}),null,16,ge)):x("",!0)],64))])),_:2},[l.element.config.help?{name:"label",fn:p((()=>[S(A(a.getLabel(l.element))+" ",1),u(s,{content:l.element.config.help},null,8,["content"])]))}:void 0]),1040,["prop","class","rules","label"])};const be={name:"childTable",components:{FormItem:ce,Tooltip:ie},props:{data:Object,type:Number},setup(e){const t=k("DFSetFormValue","");return R((()=>{t&&t.value&&(e.data.tableData=t.value[e.data.name])})),{addColumn:()=>{const t={};e.data.list.forEach((e=>{e.name&&("checkbox"===e.type?t[e.name]=[]:t[e.name]="")})),e.data.tableData.push(JSON.parse(JSON.stringify(t)))},delColumn:t=>{e.data.tableData.splice(t,1)},getText:e=>"string"==typeof e?e:e&&e.toString()}}},ve={class:"form-table form-table-add"},he={key:0},_e={key:1},ke={key:2},De=S("删除 "),Ve={key:0,class:"table-btn"},Ce=S("增加");be.render=function(e,t,l,a,o,n){const s=d("el-button"),r=d("form-item"),i=d("Tooltip"),f=d("el-table-column"),y=d("el-table");return m(),w("div",ve,[u(y,T(l.data.control,{class:[l.data.className],data:l.data.tableData}),{default:p((()=>[(m(!0),w(j,null,I(l.data.list,((e,t)=>(m(),c(f,{key:t,prop:e.name,label:e.item.label,width:e.item.span},L({default:p((t=>["index"===e.typeColumn?(m(),w("span",he,A(t.$index+1),1)):x("",!0),3===l.type?(m(),w("div",_e,A(a.getText(t.row[e.name])),1)):(m(),w("div",ke,["operate"===e.typeColumn&&1===l.type?(m(),c(s,{key:0,type:"text",onClick:e=>a.delColumn(t.$index)},{default:p((()=>[De])),_:2},1032,["onClick"])):(m(),c(r,{key:1,tProps:`${l.data.name}.${t.$index}.${e.name}`,modelValue:t.row[e.name],"onUpdate:modelValue":l=>t.row[e.name]=l,element:e},null,8,["tProps","modelValue","onUpdate:modelValue","element"]))]))])),_:2},[e.help?{name:"header",fn:p((t=>[S(A(t.column.label)+" ",1),u(i,{content:e.help},null,8,["content"])]))}:void 0]),1032,["prop","label","width"])))),128))])),_:1},16,["class","data"]),1===l.type?(m(),w("div",Ve,[u(s,{size:"mini",onClick:a.addColumn},{default:p((()=>[Ce])),_:1},8,["onClick"])])):x("",!0)])};const Ee={name:"formGroup",components:{Draggable:N,FormItem:ce,ChildTable:be,Tooltips:ie},props:{data:{type:Object,default:()=>({})}},setup(e){const t=k("DFStatusType",{}),l=$(),a=D({clone:!0,gridAdd:!1,type:t.type}),o=C((()=>l.state.form.activeKey)),n=e=>-1===["grid","table","tabs"].indexOf(e),s=k("DFFormModel","");return i(r({click:(t,o,n)=>{if(4===a.type)if("clone"===t){console.log(n);const t=n.type+(new Date).getTime().toString(),l=JSON.parse(JSON.stringify(n));e.data.list.splice(o,0,Object.assign(l,{name:t}))}else"del"===t?(e.data.list.splice(o,1),l.commit("setActiveKey",""),l.commit("setControlAttr",{})):"gridAdd"===t?n.columns.push({list:[],attr:{span:12}}):"delGridChild"===t&&n.splice(o,1)},draggableAdd:t=>{if(4!==a.type)return;const o=t.newIndex,s=(new Date).getTime().toString(),r=e.data.list,i=JSON.parse(JSON.stringify(r[o]));if("not-nested"===(t.target&&t.target.getAttribute("data-type"))&&!n(i.type))return void r.splice(o,1);if(!i)return;const d=i.label;delete i.label,delete i.icon;let m={},c={};n(i.type)?(m={item:{label:d,showLabel:!1},rules:[]},"input"!==i.type&&"textarea"!==i.type&&"component"!==i.type||(c={customRules:[]})):m={},r[o]=Object.assign({name:i.type+s},i,m,c),l.commit("setActiveKey",i.type+s),l.commit("setControlAttr",r[o]),a.gridAdd="grid"===i.type,a.clone=n(i.type)}},O(a)),{groupClick:(e,t)=>{4===a.type&&("gridChild"===t&&(e.name||(e.name="gridChild"+(new Date).getTime().toString()),e.type=t),l.commit("setActiveKey",e.name),l.commit("setControlAttr",e),a.gridAdd="grid"===e.type,a.clone=n(e.type))},activeKey:o,getFormItemStyle:e=>{if(e.config&&e.config.span)return{width:e.config.span/24*100+"%"}},linksShow:e=>{if(!e.config||!s)return!0;const t=e.config.linkKey,l=e.config.linkValue;if(t&&l&&4!==a.type){const e=t.split(/,|&/),a=l.split(/,|&/),o=-1!==t.indexOf("&")||-1!==l.indexOf("&");let n=!1;for(let t=0;t<e.length;t++)if(o){if(n=!0,s.value[e[t]]!==a[t]){n=!1;break}}else if(s.value[e[t]]===a[t]){n=!0;break}return n}return!0},linksIf:t=>{const l=e.data.config&&e.data.config.vIf;return!(l&&l.length>0)||-1===l.indexOf(t.name)}})}},Oe=["onClick"],Le={key:0,class:"form-tabs"},Te=["innerHTML"],Fe={key:0,class:"form-table"},Pe={key:0,class:"drag-control"},Se={class:"item-control"},Ae=["onClick"],we={key:6,class:"drag-control"},xe={class:"item-control"},je=["onClick"],Ie=["onClick"],Re=["onClick"],Ne=_("div",{class:"drag-move icon-move"},null,-1),$e={key:7,class:"tooltip"};Ee.render=function(e,t,l,a,o,n){const s=d("form-group",!0),r=d("el-tab-pane"),i=d("el-tabs"),f=d("Tooltips"),y=d("child-table"),g=d("el-col"),b=d("el-row"),v=d("el-collapse-item"),h=d("el-collapse"),k=d("form-item"),D=d("draggable");return m(),c(D,T({itemKey:"key-form",modelValue:l.data.list,"onUpdate:modelValue":t[0]||(t[0]=e=>l.data.list=e),name:"fade",class:"drag"},{group:"form",ghostClass:"ghost",animation:200,handle:".drag-move"},{onAdd:a.draggableAdd}),{item:p((({element:t,index:l})=>[a.linksIf(t)?U((m(),w("div",{key:0,class:q(["group",{["group-"+t.type]:!0,active:a.activeKey===t.name}]),style:M(a.getFormItemStyle(t)),onClick:K((e=>a.groupClick(t)),["stop"])},["tabs"===t.type?(m(),w("div",Le,[u(i,T(t.control,{class:[t.className]}),{default:p((()=>[(m(!0),w(j,null,I(t.columns,((e,t)=>(m(),c(r,{label:e.label,key:t},{default:p((()=>[u(s,{data:e,"data-type":"not-nested"},null,8,["data"])])),_:2},1032,["label"])))),128))])),_:2},1040,["class"])])):"title"===t.type?(m(),w("div",T({key:1,class:["title",[t.className]]},t.control),[_("span",{innerHTML:t.control.modelValue},null,8,Te),t.help?(m(),c(f,{key:0,content:t.help},null,8,["content"])):x("",!0)],16)):"table"===t.type?(m(),w(j,{key:2},[4===e.type?(m(),w("div",Fe,[u(s,{data:t,"data-type":"not-nested"},null,8,["data"])])):(m(),c(y,{key:1,data:t,type:e.type},null,8,["data","type"]))],64)):"grid"===t.type?(m(),c(b,{key:3,class:q(["form-row",[t.className]])},{default:p((()=>[(m(!0),w(j,null,I(t.columns,((l,o)=>(m(),c(g,T({class:["form-col",{"active-col":a.activeKey===l.name,[l.className]:l.className}]},l.attr,{key:o,onClick:K((e=>a.groupClick(l,"gridChild")),["stop"])}),{default:p((()=>[u(s,{data:l,"data-type":"not-nested"},null,8,["data"]),4===e.type?(m(),w("div",Pe,[_("div",Se,[_("i",{class:"icon-del",onClick:K((e=>a.click("delGridChild",o,t.columns)),["stop"])},null,8,Ae)])])):x("",!0)])),_:2},1040,["class","onClick"])))),128))])),_:2},1032,["class"])):"card"===t.type?(m(),c(h,{key:4,"model-value":"1"},{default:p((()=>[u(v,{title:t.item.label,name:"1"},L({default:p((()=>[u(s,{data:t},null,8,["data"])])),_:2},[t.help?{name:"title",fn:p((()=>[S(A(t.item.label)+" ",1),u(f,{content:t.help},null,8,["content"])]))}:void 0]),1032,["title"])])),_:2},1024)):(m(),c(k,{key:5,element:t},null,8,["element"])),4===e.type?(m(),w("div",we,[_("div",xe,[e.gridAdd?(m(),w("i",{key:0,class:"icon-plus",onClick:K((e=>a.click("gridAdd",l,t)),["stop"]),title:"添加列"},null,8,je)):x("",!0),e.clone?(m(),w("i",{key:1,class:"icon-clone",onClick:K((e=>a.click("clone",l,t)),["stop"]),title:"克隆"},null,8,Ie)):x("",!0),_("i",{class:"icon-del",onClick:K((e=>a.click("del",l)),["stop"])},null,8,Re)]),Ne])):x("",!0),4===e.type?(m(),w("div",$e,A(t.name),1)):x("",!0)],14,Oe)),[[z,a.linksShow(t)]]):x("",!0)])),_:1},16,["modelValue","onAdd"])};const Ue={name:"formIndex",components:{formGroup:Ee},props:{formData:Object,type:{type:Number,default:1},isEdit:{type:Boolean,default:!1},disabled:Boolean},setup(e){let t=0,l="";const a=t=>{if(e.formData&&e.formData.list){const a=e.formData.config.name;l=`get${a}ControlByName`,!a||window[l]&&t||(window[l]=t=>{for(let l=0;l<e.formData.list.length;l++)if(e.formData.list[l].name===t)return e.formData.list[l]})}};V((()=>e.formData),(()=>{t<2&&a(),t++,m(!0)}),{deep:!0}),a();const o=C((()=>{const t={};return e.formData&&e.formData.list&&n(e.formData.list,t),t})),n=(e,t)=>{e.forEach((e=>{if("table"===e.type)t[e.name]=e.tableData;else if("grid"===e.type||"tabs"===e.type)e.columns.forEach((e=>{n(e.list,t)}));else if("card"===e.type)n(e.list,t);else{-1===["title"].indexOf(e.type)&&(t[e.name]=e.control.modelValue)}}))};J("DFStatusType",{type:e.type,isEdit:e.isEdit}),J("DFFormModel",o);const s=B(e.formData.config.rulesComm);V((()=>e.formData),(e=>{s.value=e.config.rulesComm})),J("DFFormRulesComm",s);const r=B(),i=B();J("DFSetFormValue",i);const d=B();J("DFSetFormOptions",d);const m=t=>{const{config:l,style:a}=e.formData,o=document.getElementById(l.name+"Style");if(o&&t)o.innerText=a;else{if(a&&t){const e=document.createElement("style");e.id=l&&l.name+"Style",e.appendChild(document.createTextNode(a)),document.head.appendChild(e)}t||o&&o.parentNode.removeChild(o)}};return E((()=>{H((()=>{m(!0)}))})),G((()=>{l&&(window[l]=""),m()})),{model:o,validate:e=>{r.value.validate((t=>{e(t)}))},ruleForm:r,getValue:e=>{if(e){const e={};for(const t in o.value)if(o.value.hasOwnProperty(t)){const l=o.value[t];""!==l&&l&&l.length>0&&(e[t]=l)}return e}return o.value},setValue:e=>{i.value=e},setOptions:e=>{d.value=e},setWindowEvent:a}}};Ue.render=function(e,t,l,a,o,n){const s=d("form-group"),r=d("el-form");return m(),c(r,T(l.formData.config,{ref:"ruleForm",model:a.model,disabled:l.disabled||2===l.type,class:["add-form",{"design-form":4===l.type,"detail-form":3===l.type||2===l.type}]}),{default:p((()=>[u(s,{data:l.formData},null,8,["data"]),Z(e.$slots,"default")])),_:3},16,["model","disabled","class"])};const ze={name:"tableList",props:{searchData:Object,tableData:Object,beforeRequest:Function,afterResponse:Function,showPage:{type:Boolean,default:!0},autoLoad:{type:Boolean,default:!0},requestUrl:Function,tableList:Array},components:{designForm:Ue,Tooltip:ie},setup(e){const t=W(),l=B(),a=B(),o=D({loading:!1,tableDataList:e.tableList,currentPage:1,pageSize:20,total:0}),n=()=>{if(o.loading)return;o.loading=!0;let a=l.value&&l.value.getValue(!0);e.beforeRequest&&(a=e.beforeRequest(a||{})),e.requestUrl&&e.requestUrl(t.query.formName,a).then((t=>{let l=t.data.data;e.afterResponse&&(l=e.afterResponse(l)),o.tableDataList=l,o.loading=!1})).catch((e=>{o.loading=!1})),o.loading=!1};return E((()=>{e.autoLoad&&n()})),i(r({},O(o)),{handleSizeChange:e=>{o.pageSize=e,n()},handleCurrentChange:e=>{o.currentPage=e,n()},getListData:n,searchClear:()=>{l.value.ruleForm.resetFields(),l.value.setValue(l.value.getValue())},designForm:l,tableEl:a})}},qe={class:"table-list-comm"},Ke={key:0,class:"table-search"},Me=S("查询 "),Je=S("清空"),Be={class:"table-main"},He={key:1,class:"table-page"};ze.render=function(e,t,l,a,o,n){const s=d("el-button"),r=d("design-form"),i=d("Tooltip"),f=d("el-table-column"),y=d("el-table"),g=d("el-pagination"),b=Q("loading");return U((m(),w("div",qe,[Object.keys(l.searchData).length>0?(m(),w("div",Ke,[u(r,{disabled:e.loading,"form-data":l.searchData,ref:"designForm"},{default:p((()=>[Z(e.$slots,"DFSearchForm"),e.$slots.DFSearchForm?x("",!0):(m(),w(j,{key:0},[u(s,{type:"primary",onClick:a.getListData,loading:e.loading},{default:p((()=>[Me])),_:1},8,["onClick","loading"]),u(s,{onClick:a.searchClear},{default:p((()=>[Je])),_:1},8,["onClick"])],64))])),_:3},8,["disabled","form-data"])])):x("",!0),Z(e.$slots,"default"),_("div",Be,[Z(e.$slots,"DFTable"),e.$slots.DFTable?x("",!0):(m(),c(y,T({key:0,data:e.tableDataList},l.tableData.config,{ref:"tableEl"}),{default:p((()=>[(m(!0),w(j,null,I(l.tableData.columns,(t=>(m(),c(f,X(T({key:t.prop||t.label},t)),L({_:2},[t.help?{name:"header",fn:p((e=>[S(A(e.column.label)+" ",1),u(i,{content:t.help},null,8,["content"])]))}:void 0,e.$slots[t.prop]?{name:"default",fn:p((l=>[Z(e.$slots,t.prop,{row:l.row,$index:l.$index})]))}:void 0]),1040)))),128))])),_:3},16,["data"]))]),l.showPage?(m(),w("div",He,[u(g,{currentPage:e.currentPage,"onUpdate:currentPage":t[0]||(t[0]=t=>e.currentPage=t),"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a.handleSizeChange,onCurrentChange:a.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])):x("",!0)],512)),[[b,e.loading]])};Y(te).use(ee).use(ne).use(se).use((e=>{e.component("akFormDesign",Ue),e.component("akTableList",ze)})).mount("#app");export{Ue as _,ze as a,re as s};
