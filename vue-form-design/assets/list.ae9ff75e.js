var v=Object.defineProperty,w=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var D=(e,t,a)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,k=(e,t)=>{for(var a in t||(t={}))x.call(t,a)&&D(e,a,t[a]);if(p)for(var a of p(t))N.call(t,a)&&D(e,a,t[a]);return e},C=(e,t)=>w(e,R(t));import{_ as I,t as L}from"./index.04a1649d.js";import{S as B,$ as E,i as U,n as $,p as T,r as q,o as V,x as S,a as f,w as u,C as m,h as y,s as b}from"./vendor.f9fdd043.js";import{f as j,b as F,h as M}from"./index.9fa736e5.js";import{s as g}from"./index.6c162138.js";const O={name:"list",props:{},components:{tableList:L},setup(){const e=B(),t=E(),a=e.query.formId,o=e.query.formName,l=U(),i=$({loading:!1,tableData:{config:{},columns:[]},searchData:{},requestUrl:j}),n=()=>{F(a).then(s=>{if(s.data.code===200){const r=s.data.data[0];if(!r.tableData){m.info("\u8BF7\u5148\u8BBE\u7F6E\u8868\u683C\u5217\u6570\u636E");return}i.tableData=g(r.tableData),r.searchData&&(i.searchData=g(r.searchData))}})},_=s=>s,c=()=>{l.value.searchClick()},d=(s,r)=>{switch(r){case"show":t.push({path:"/form",query:{formName:o,formId:a,id:s,type:2}});break;case"edit":t.push({path:"/form",query:{formName:o,formId:a,id:s}});break;case"del":M(o,s).then(h=>{h.data.code===200?(m.success("\u5220\u9664\u6210\u529F"),l.value.getListData()):m.error("\u5220\u9664\u5931\u8D25")}).catch(h=>{m.error("\u5220\u9664\u5931\u8D25")});break}};return a&&n(),C(k({},T(i)),{beforeRequest:_,onSubmit:c,tableListEl:l,btnClick:d})}},z={class:"form-list-page"},A=y("h3",null,"\u5217\u8868\u6570\u636E",-1),G=b("\u67E5\u770B"),H=b("\u7F16\u8F91"),J=b("\u5220\u9664"),K=y("p",{style:{"padding-top":"20px",color:"#999"}},"\u6CE8\uFF1A\u6B64\u793A\u4F8B\u63A5\u53E3\u4E0D\u652F\u6301\u641C\u7D22\u5206\u9875\u67E5\u8BE2",-1);function P(e,t,a,o,l,i){const n=q("el-button"),_=q("table-list");return V(),S("div",z,[A,f(_,{ref:"tableListEl",searchData:e.searchData,tableData:e.tableData,requestUrl:e.requestUrl,beforeRequest:o.beforeRequest},{__control:u(c=>[f(n,{type:"text",onClick:d=>o.btnClick(c.row.id,"show")},{default:u(()=>[G]),_:2},1032,["onClick"]),f(n,{type:"text",onClick:d=>o.btnClick(c.row.id,"edit")},{default:u(()=>[H]),_:2},1032,["onClick"]),f(n,{type:"text",onClick:d=>o.btnClick(c.row.id,"del")},{default:u(()=>[J]),_:2},1032,["onClick"])]),_:1},8,["searchData","tableData","requestUrl","beforeRequest"]),K])}var ee=I(O,[["render",P]]);export{ee as default};
