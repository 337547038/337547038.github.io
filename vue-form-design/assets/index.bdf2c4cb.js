var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,r=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&s(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&s(e,l,t[l]);return e},i=(e,a)=>t(e,l(a));import{r as d,o as m,c,w as p,a as u,b as f,T as y,d as b,e as g,f as h,g as _,i as v,h as k,j as D,k as V,l as C,t as L,m as E,n as O,p as T,E as F,q as P,s as A,u as S,v as j,x,y as w,F as R,z as I,D as $,A as N,B as M,C as U,G as z,H,I as q,J as K,K as J,L as B,M as G,N as Z,O as Q,P as W,Q as X}from"./vendor.bb6fcdfb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Y={};Y.render=function(e,t){const l=d("router-view");return m(),c(l,null,{default:p((({Component:e})=>[u(y,{name:"left-fade",mode:"out-in"},{default:p((()=>[(m(),c(f(e)))])),_:2},1024)])),_:1})};const ee={},te=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in ee)return;ee[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},le=[{name:"docs-useVerify",path:"/docs/useverify",component:()=>te((()=>import("./useVerify.dd2f7d7a.js")),["assets/useVerify.dd2f7d7a.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-useInfo",path:"/docs/useinfo",component:()=>te((()=>import("./useInfo.46763b88.js")),["assets/useInfo.46763b88.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-useBind",path:"/docs/usebind",component:()=>te((()=>import("./useBind.86360951.js")),["assets/useBind.86360951.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-tableListDemo",path:"/docs/tablelistdemo",component:()=>te((()=>import("./tableListDemo.22b2747e.js")),["assets/tableListDemo.22b2747e.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-tableList",path:"/docs/tablelist",component:()=>te((()=>import("./tableList.105c7498.js")),["assets/tableList.105c7498.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-search",path:"/docs/search",component:()=>te((()=>import("./search.77b93f35.js")),["assets/search.77b93f35.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-designFormDemo",path:"/docs/designformdemo",component:()=>te((()=>import("./designFormDemo.f8b4038e.js")),["assets/designFormDemo.f8b4038e.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs-designForm",path:"/docs/designform",component:()=>te((()=>import("./designForm.6243dd7f.js")),["assets/designForm.6243dd7f.js","assets/vendor.bb6fcdfb.js"]),props:!0},{name:"docs",path:"/docs",component:()=>te((()=>import("./index.b2e3123b.js")),["assets/index.b2e3123b.js","assets/vendor.bb6fcdfb.js"]),props:!0}];console.log(le);const ae=b({scrollBehavior:(e,t,l)=>l||{top:0},history:g(),routes:[{path:"/",name:"index",component:()=>te((()=>import("./index.2338e5ec.js")),["assets/index.2338e5ec.js","assets/index.884f4285.js","assets/vendor.bb6fcdfb.js"])},{path:"/design",name:"design",component:()=>te((()=>import("./designForm.4c368bab.js")),["assets/designForm.4c368bab.js","assets/vueFile.de12e12c.js","assets/vendor.bb6fcdfb.js","assets/index.884f4285.js"])},{path:"/designTable",name:"designTable",component:()=>te((()=>import("./designTable.104e0af9.js")),["assets/designTable.104e0af9.js","assets/vueFile.de12e12c.js","assets/vendor.bb6fcdfb.js","assets/index.884f4285.js"])},{path:"/form",name:"form",component:()=>te((()=>import("./form.0ed285c4.js")),["assets/form.0ed285c4.js","assets/vendor.bb6fcdfb.js","assets/index.884f4285.js"])},{path:"/list",name:"list",component:()=>te((()=>import("./list.d5b6894c.js")),["assets/list.d5b6894c.js","assets/vendor.bb6fcdfb.js","assets/index.884f4285.js"])},{path:"/formList",name:"formList",component:()=>te((()=>import("./index.89baa4a7.js")),["assets/index.89baa4a7.js","assets/index.884f4285.js","assets/vendor.bb6fcdfb.js"])},{path:"/export/form",name:"exportForm",component:()=>te((()=>import("./form.51a973f2.js")),["assets/form.51a973f2.js","assets/vendor.bb6fcdfb.js"])},{path:"/export/list",name:"exportList",component:()=>te((()=>import("./list.66cb0f9c.js")),["assets/list.66cb0f9c.js","assets/vendor.bb6fcdfb.js"])},{path:"/test",name:"test",component:()=>te((()=>import("./test.d8c16197.js")),["assets/test.d8c16197.js","assets/vendor.bb6fcdfb.js"])},{name:"docs",path:"/docs",component:()=>te((()=>import("./layout.544d5fe1.js")),["assets/layout.544d5fe1.js","assets/layout.365f5a4e.css","assets/vendor.bb6fcdfb.js"]),children:[...le]}]});var oe=h({modules:{form:{state:{controlAttr:{},activeKey:""},mutations:{setControlAttr(e,t){e.controlAttr=t},setActiveKey(e,t){e.activeKey=t}},actions:{}}}});const ne=_.create({baseURL:"http://localhost:3001",timeout:6e3,headers:{}});ne.interceptors.request.use((e=>e),(e=>{Promise.reject(e)})),ne.interceptors.response.use((e=>e),(e=>Promise.reject(e)));const se={name:"item",components:{},props:{element:Object,modelValue:null,tProps:String},emits:["update:modelValue"],setup(e,{emit:t}){const l=v("DFStatusType",{}),a=k({type:l.type,config:e.element.config,value:e.tProps?e.modelValue:e.element.control.modelValue}),o=a.config;if("async"===o.type&&1===o.source&&4!==a.type&&o.sourceFun&&(e.element.options=v(o.sourceFun,[])),e.element.customRules&&1===a.type){const t={mobile:/^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/,tel:/^0\d{2,3}-\d{7,8}$/,phone:/^((0\d{2,3}(-?)\d{7,8})|(1[3456789]\d{9}))$/,email:/^[a-z0-9A-Z._%-]+@([a-z0-9A-Z-]+\.)+[a-zA-Z]{2,4}$/,int:/^[0-9]*[1-9][0-9]*$/,number:/^\d+(\.\d+)?$/,card:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/};e.element.customRules.forEach((l=>{if(!l.message&&"methods"!==l.type)return;let a=!1;if(e.element.rules.forEach((e=>{l.message===e.message&&l.trigger===e.trigger&&(a=!0)})),!a){let a={};"required"===l.type?a={required:!0}:"rules"===l.type?a={pattern:l.rules}:"methods"===l.type?a={validator:v(l.methods,{})}:l.type&&t[l.type]&&(a={pattern:t[l.type]});let o={message:l.message};l.message||(o={}),e.element.rules.push(Object.assign({trigger:l.trigger||"blur"},a,o))}}))}if(e.element.rulesComm&&1===a.type){const t=v("DFFormRulesComm",[]);t&&t.value.length>0&&t.value.forEach((t=>{if(-1!==e.element.rulesComm.indexOf(t.key)){let l=!1;e.element.rules.forEach((e=>{t.key===e.key&&(l=!0)})),l||e.element.rules.push(t)}}))}"component"===e.element.type&&e.element.template&&(e.element.component=v(e.element.template,""));const n=D((()=>!!(1===l.type&&l.isEdit&&e.element.config&&e.element.config.editDisabled)||e.element.control.disabled)),s=v("DFControlChange","");V((()=>a.value),(l=>{e.tProps?t("update:modelValue",l):e.element.control.modelValue=l,s&&s({key:e.element.name,value:l})}));const i=v("DFSetFormValue","");V((()=>i.value),(()=>{i&&i.value&&!e.tProps&&(a.value=i.value[e.element.name],"upload"===e.element.type&&(e.element.control.fileList=JSON.parse(JSON.stringify(a.value))))}));return C((()=>{(()=>{if("async"===o.type&&0===o.source&&4!==a.type){const t="option_fun_"+T(o.sourceFun),l=window.sessionStorage.getItem(t);l?e.element.options=JSON.parse(l):ne[o.request](o.sourceFun,"").then((l=>{200===l.data.code&&(e.element.options=l.data.data,window.sessionStorage.setItem(t,JSON.stringify(l.data.data)))})).catch((e=>{console.log(e)}))}})()})),r({getLabel:e=>e.item?e.item.showLabel?"":e.item.label:"",editDisabled:n,uploadSuccess:(t,l,a)=>{console.log(l),e.element.control.modelValue.push({name:l.fileName,url:l.path}),e.element.control.onSuccess&&e.element.control.onSuccess(t,l,a)},uploadRemove:(t,l)=>{e.element.control.modelValue.forEach(((l,a)=>{l.url===t.url&&e.element.control.modelValue.splice(a,1)})),e.element.control.onRemove&&e.element.control.onRemove(t,l)},uploadError:(t,l,a)=>{console.log("uploadError"),F.error(l.name+"上传失败"),e.element.control.onError&&e.element.control.onError(t,l,a)}},L(a))}},re=["innerHTML"],ie=S("i",{class:"icon-help"},null,-1),de=["innerHTML"],me={key:1,class:"icon-plus"},ce={class:"el-upload__tip"},pe={key:11,class:"gray"},ue=["innerHTML"];se.render=function(e,t,l,a,o,n){const s=d("el-tooltip"),r=d("el-input"),i=d("el-radio"),y=d("el-radio-group"),b=d("el-checkbox"),g=d("el-checkbox-group"),h=d("el-option"),_=d("el-select"),v=d("el-date-picker"),k=d("el-switch"),D=d("el-input-number"),V=d("el-cascader"),C=d("el-button"),L=d("el-upload"),T=d("el-form-item");return m(),c(T,O(l.element.item,{prop:l.tProps||l.element.name,class:l.element.className,rules:l.element.rules&&l.element.rules.length>0?l.element.rules:void 0,label:a.getLabel(l.element)}),E({default:p((()=>[3===e.type?(m(),j("div",{key:0,class:"form-value",innerHTML:e.value},null,8,de)):(m(),j(R,{key:1},["input"===l.element.type||"password"===l.element.type?(m(),c(r,O({key:0},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),disabled:a.editDisabled,type:"password"===l.element.type?"password":""}),E({_:2},[x(l.element.slot,((e,t)=>({name:t,fn:p((()=>[P(A(e),1)]))})))]),1040,["modelValue","disabled","type"])):w("",!0),"textarea"===l.element.type?(m(),c(r,O({key:1},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),disabled:a.editDisabled,type:"textarea"}),null,16,["modelValue","disabled"])):w("",!0),"radio"===l.element.type?(m(),c(y,O({key:2},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value=t)}),{default:p((()=>[(m(!0),j(R,null,x(l.element.options,((e,t)=>(m(),c(i,{key:t,label:e.value},{default:p((()=>[P(A(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},16,["disabled","modelValue"])):w("",!0),"checkbox"===l.element.type?(m(),c(g,O({key:3},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value=t)}),{default:p((()=>[(m(!0),j(R,null,x(l.element.options,((e,t)=>(m(),c(b,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},16,["disabled","modelValue"])):w("",!0),"select"===l.element.type?(m(),c(_,O({key:4},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.value=t)}),{default:p((()=>[(m(!0),j(R,null,x(l.element.options,(e=>(m(),c(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["disabled","modelValue"])):w("",!0),"datePicker"===l.element.type?(m(),c(v,O({key:5},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.value=t)}),null,16,["disabled","modelValue"])):w("",!0),"switch"===l.element.type?(m(),c(k,O({key:6},l.element.control,{disabled:a.editDisabled,modelValue:e.value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.value=t)}),null,16,["disabled","modelValue"])):w("",!0),"number"===l.element.type?(m(),c(D,O({key:7},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=t=>e.value=t),disabled:a.editDisabled}),null,16,["modelValue","disabled"])):w("",!0),"cascader"===l.element.type?(m(),c(V,O({key:8},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[8]||(t[8]=t=>e.value=t),disabled:a.editDisabled,options:l.element.options}),null,16,["modelValue","disabled","options"])):w("",!0),"upload"===l.element.type?(m(),c(L,O({key:9,class:"upload-style"},l.element.control,{disabled:a.editDisabled,class:{limit:l.element.control.limit<=l.element.control.modelValue.length},"on-success":a.uploadSuccess,"on-remove":a.uploadRemove,"on-error":a.uploadError}),E({default:p((()=>[l.element.config.btnText?(m(),c(C,{key:0,type:"primary"},{default:p((()=>[P(A(l.element.config.btnText),1)])),_:1})):(m(),j("i",me))])),_:2},[l.element.config.tip?{name:"tip",fn:p((()=>[S("div",ce,A(l.element.config.tip),1)]))}:void 0]),1040,["disabled","class","on-success","on-remove","on-error"])):w("",!0),"component"===l.element.type&&4!==e.type?(m(),c(f(l.element.component),O({key:10},l.element.control,{modelValue:e.value,"onUpdate:modelValue":t[9]||(t[9]=t=>e.value=t),disabled:a.editDisabled}),null,16,["modelValue","disabled"])):w("",!0),"component"===l.element.type&&""===l.element.component?(m(),j("div",pe," 请使用provide注入组件如：provide('"+A(l.element.template)+"', import进来的组件) ",1)):w("",!0),"txt"===l.element.type?(m(),j("div",O({key:12},l.element.control,{innerHTML:e.value}),null,16,ue)):w("",!0)],64))])),_:2},[l.element.config.help?{name:"label",fn:p((()=>[P(A(a.getLabel(l.element))+" ",1),u(s,{placement:"top"},{content:p((()=>[S("span",{innerHTML:l.element.config.help},null,8,re)])),default:p((()=>[ie])),_:1})]))}:void 0]),1040,["prop","class","rules","label"])};const fe={name:"childTable",components:{FormItem:se},props:{data:Object,type:Number},setup(e){const t=v("DFSetFormValue","");return I((()=>{t&&t.value&&(e.data.tableData=t.value[e.data.name])})),{addColumn:()=>{const t={};e.data.list.forEach((e=>{e.name&&("checkbox"===e.type?t[e.name]=[]:t[e.name]="")})),e.data.tableData.push(JSON.parse(JSON.stringify(t)))},delColumn:t=>{e.data.tableData.splice(t,1)},getText:e=>"string"==typeof e?e:e&&e.toString()}}},ye={class:"form-table form-table-add"},be={key:0},ge={key:1},he={key:2},_e=P("删除 "),ve=["innerHTML"],ke=S("i",{class:"icon-help"},null,-1),De={key:0,class:"table-btn"},Ve=P("增加");fe.render=function(e,t,l,a,o,n){const s=d("el-button"),r=d("form-item"),i=d("el-tooltip"),f=d("el-table-column"),y=d("el-table");return m(),j("div",ye,[u(y,O(l.data.control,{class:[l.data.className],data:l.data.tableData}),{default:p((()=>[(m(!0),j(R,null,x(l.data.list,((e,t)=>(m(),c(f,{key:t,prop:e.name,label:e.item.label,width:e.item.span},E({default:p((t=>["index"===e.typeColumn?(m(),j("span",be,A(t.$index+1),1)):w("",!0),3===l.type?(m(),j("div",ge,A(a.getText(t.row[e.name])),1)):(m(),j("div",he,["operate"===e.typeColumn&&1===l.type?(m(),c(s,{key:0,type:"text",onClick:e=>a.delColumn(t.$index)},{default:p((()=>[_e])),_:2},1032,["onClick"])):(m(),c(r,{key:1,tProps:`${l.data.name}.${t.$index}.${e.name}`,modelValue:t.row[e.name],"onUpdate:modelValue":l=>t.row[e.name]=l,element:e},null,8,["tProps","modelValue","onUpdate:modelValue","element"]))]))])),_:2},[e.help?{name:"header",fn:p((t=>[P(A(t.column.label)+" ",1),u(i,{placement:"top"},{content:p((()=>[S("span",{innerHTML:e.help},null,8,ve)])),default:p((()=>[ke])),_:2},1024)]))}:void 0]),1032,["prop","label","width"])))),128))])),_:1},16,["class","data"]),1===l.type?(m(),j("div",De,[u(s,{size:"mini",onClick:a.addColumn},{default:p((()=>[Ve])),_:1},8,["onClick"])])):w("",!0)])};const Ce={name:"formGroup",components:{Draggable:$,FormItem:se,ChildTable:fe},props:{data:{type:Object,default:()=>({})}},setup(e){const t=v("DFStatusType",{}),l=N(),a=k({clone:!0,gridAdd:!1,type:t.type}),o=D((()=>l.state.form.activeKey)),n=e=>-1===["grid","table","tabs"].indexOf(e),s=v("DFFormModel","");return i(r({click:(t,o,n)=>{if(4===a.type)if("clone"===t){console.log(n);const t=n.type+(new Date).getTime().toString(),l=JSON.parse(JSON.stringify(n));e.data.list.splice(o,0,Object.assign(l,{name:t}))}else"del"===t?(e.data.list.splice(o,1),l.commit("setActiveKey",""),l.commit("setControlAttr",{})):"gridAdd"===t?n.columns.push({list:[],attr:{span:12}}):"delGridChild"===t&&n.splice(o,1)},draggableAdd:t=>{if(4!==a.type)return;const o=t.newIndex,s=(new Date).getTime().toString(),r=e.data.list,i=JSON.parse(JSON.stringify(r[o]));if("not-nested"===(t.target&&t.target.getAttribute("data-type"))&&!n(i.type))return void r.splice(o,1);if(!i)return;const d=i.label;delete i.label,delete i.icon;let m={},c={};n(i.type)?(m={item:{label:d,showLabel:!1},rules:[]},"input"!==i.type&&"textarea"!==i.type&&"component"!==i.type||(c={customRules:[]})):m={},r[o]=Object.assign({name:i.type+s},i,m,c),l.commit("setActiveKey",i.type+s),l.commit("setControlAttr",r[o]),a.gridAdd="grid"===i.type,a.clone=n(i.type)}},L(a)),{groupClick:(e,t)=>{4===a.type&&("gridChild"===t&&(e.name||(e.name="gridChild"+(new Date).getTime().toString()),e.type=t),l.commit("setActiveKey",e.name),l.commit("setControlAttr",e),a.gridAdd="grid"===e.type,a.clone=n(e.type))},activeKey:o,getFormItemStyle:e=>{if(e.config&&e.config.span)return{width:e.config.span/24*100+"%"}},linksShow:e=>{if(!e.config||!s)return!0;const t=e.config.linkKey,l=e.config.linkValue;if(t&&l&&4!==a.type){const e=t.split(/,|&/),a=l.split(/,|&/),o=-1!==t.indexOf("&")||-1!==l.indexOf("&");let n=!1;for(let t=0;t<e.length;t++)if(o){if(n=!0,s.value[e[t]]!==a[t]){n=!1;break}}else if(s.value[e[t]]===a[t]){n=!0;break}return n}return!0}})}},Le=["onClick"],Ee={key:0,class:"form-tabs"},Oe=["innerHTML"],Te={key:0,class:"form-table"},Fe={key:0,class:"drag-control"},Pe={class:"item-control"},Ae=["onClick"],Se=["innerHTML"],je=S("i",{class:"icon-help"},null,-1),xe={key:6,class:"drag-control"},we={class:"item-control"},Re=["onClick"],Ie=["onClick"],$e=["onClick"],Ne=S("div",{class:"drag-move icon-move"},null,-1),Me={key:7,class:"tooltip"};Ce.render=function(e,t,l,a,o,n){const s=d("form-group",!0),r=d("el-tab-pane"),i=d("el-tabs"),f=d("child-table"),y=d("el-col"),b=d("el-row"),g=d("el-tooltip"),h=d("el-collapse-item"),_=d("el-collapse"),v=d("form-item"),k=d("draggable");return m(),c(k,O({itemKey:"key-form",modelValue:l.data.list,"onUpdate:modelValue":t[0]||(t[0]=e=>l.data.list=e),name:"fade",class:"drag"},{group:"form",ghostClass:"ghost",animation:200,handle:".drag-move"},{onAdd:a.draggableAdd}),{item:p((({element:t,index:l})=>[M(S("div",{class:z(["group",{["group-"+t.type]:!0,active:a.activeKey===t.name}]),style:q(a.getFormItemStyle(t)),onClick:H((e=>a.groupClick(t)),["stop"])},["tabs"===t.type?(m(),j("div",Ee,[u(i,O(t.control,{class:[t.className]}),{default:p((()=>[(m(!0),j(R,null,x(t.columns,((e,t)=>(m(),c(r,{label:e.label,key:t},{default:p((()=>[u(s,{data:e,"data-type":"not-nested"},null,8,["data"])])),_:2},1032,["label"])))),128))])),_:2},1040,["class"])])):"title"===t.type?(m(),j("div",O({key:1,class:["title",[t.className]]},t.control,{innerHTML:t.control.modelValue}),null,16,Oe)):"table"===t.type?(m(),j(R,{key:2},[4===e.type?(m(),j("div",Te,[u(s,{data:t,"data-type":"not-nested"},null,8,["data"])])):(m(),c(f,{key:1,data:t,type:e.type},null,8,["data","type"]))],64)):"grid"===t.type?(m(),c(b,{key:3,class:z(["form-row",[t.className]])},{default:p((()=>[(m(!0),j(R,null,x(t.columns,((l,o)=>(m(),c(y,O({class:["form-col",{"active-col":a.activeKey===l.name,[l.className]:l.className}]},l.attr,{key:o,onClick:H((e=>a.groupClick(l,"gridChild")),["stop"])}),{default:p((()=>[u(s,{data:l,"data-type":"not-nested"},null,8,["data"]),4===e.type?(m(),j("div",Fe,[S("div",Pe,[S("i",{class:"icon-del",onClick:H((e=>a.click("delGridChild",o,t.columns)),["stop"])},null,8,Ae)])])):w("",!0)])),_:2},1040,["class","onClick"])))),128))])),_:2},1032,["class"])):"card"===t.type?(m(),c(_,{key:4,"model-value":"1"},{default:p((()=>[u(h,{title:t.item.label,name:"1"},E({default:p((()=>[u(s,{data:t},null,8,["data"])])),_:2},[t.help?{name:"title",fn:p((()=>[P(A(t.item.label)+" ",1),u(g,{placement:"top"},{content:p((()=>[S("span",{innerHTML:t.help},null,8,Se)])),default:p((()=>[je])),_:2},1024)]))}:void 0]),1032,["title"])])),_:2},1024)):(m(),c(v,{key:5,element:t},null,8,["element"])),4===e.type?(m(),j("div",xe,[S("div",we,[e.gridAdd?(m(),j("i",{key:0,class:"icon-plus",onClick:H((e=>a.click("gridAdd",l,t)),["stop"]),title:"添加列"},null,8,Re)):w("",!0),e.clone?(m(),j("i",{key:1,class:"icon-clone",onClick:H((e=>a.click("clone",l,t)),["stop"]),title:"克隆"},null,8,Ie)):w("",!0),S("i",{class:"icon-del",onClick:H((e=>a.click("del",l)),["stop"])},null,8,$e)]),Ne])):w("",!0),4===e.type?(m(),j("div",Me,A(t.name),1)):w("",!0)],14,Le),[[U,a.linksShow(t)]])])),_:1},16,["modelValue","onAdd"])};const Ue={name:"formIndex",components:{formGroup:Ce},props:{formData:Object,type:{type:Number,default:1},isEdit:{type:Boolean,default:!1},disabled:Boolean},setup(e){const t=D((()=>{const t={};return e.formData&&e.formData.list&&l(e.formData.list,t),t})),l=(e,t)=>{e.forEach((e=>{if("table"===e.type)t[e.name]=e.tableData;else if("grid"===e.type||"tabs"===e.type)e.columns.forEach((e=>{l(e.list,t)}));else if("card"===e.type)l(e.list,t);else{-1===["title"].indexOf(e.type)&&(t[e.name]=e.control.modelValue)}}))};K("DFStatusType",{type:e.type,isEdit:e.isEdit}),K("DFFormModel",t);const a=J(e.formData.config.rulesComm);V((()=>e.formData),(e=>{a.value=e.config.rulesComm})),K("DFFormRulesComm",a);const o=J(),n=J();K("DFSetFormValue",n);return{model:t,validate:e=>{o.value.validate((t=>{e(t)}))},ruleForm:o,getValue:e=>{if(e){const e={};for(const l in t.value)if(t.value.hasOwnProperty(l)){const a=t.value[l];""!==a&&a&&a.length>0&&(e[l]=a)}return e}return t.value},setValue:e=>{n.value=e}}}};Ue.render=function(e,t,l,a,o,n){const s=d("form-group"),r=d("el-form");return m(),c(r,O(l.formData.config,{ref:"ruleForm",model:a.model,disabled:l.disabled||2===l.type,class:["add-form",{"design-form":4===l.type,"detail-form":3===l.type||2===l.type}]}),{default:p((()=>[u(s,{data:l.formData},null,8,["data"]),B(e.$slots,"default")])),_:3},16,["model","disabled","class"])};const ze={name:"tableList",props:{searchData:Object,tableData:Object,beforeRequest:Function,afterResponse:Function,showPage:{type:Boolean,default:!0},autoLoad:{type:Boolean,default:!0},requestUrl:Function,tableList:Array},components:{designForm:Ue},setup(e){const t=G(),l=J(),a=J(),o=k({loading:!1,tableDataList:e.tableList,currentPage:1,pageSize:20,total:0}),n=()=>{if(o.loading)return;o.loading=!0;let a=l.value&&l.value.getValue(!0);e.beforeRequest&&(a=e.beforeRequest(a||{})),e.requestUrl&&e.requestUrl(t.query.formName,a).then((t=>{let l=t.data.data;e.afterResponse&&(l=e.afterResponse(l)),o.tableDataList=l,o.loading=!1})).catch((e=>{o.loading=!1})),o.loading=!1};return C((()=>{e.autoLoad&&n()})),i(r({},L(o)),{handleSizeChange:e=>{o.pageSize=e,n()},handleCurrentChange:e=>{o.currentPage=e,n()},getListData:n,searchClear:()=>{l.value.ruleForm.resetFields(),l.value.setValue(l.value.getValue())},designForm:l,tableEl:a})}},He={class:"table-list-comm"},qe={key:0,class:"table-search"},Ke=P("查询 "),Je=P("清空"),Be={class:"table-main"},Ge=["innerHTML"],Ze=S("i",{class:"icon-help"},null,-1),Qe={key:1,class:"table-page"};ze.render=function(e,t,l,a,o,n){const s=d("el-button"),r=d("design-form"),i=d("el-tooltip"),f=d("el-table-column"),y=d("el-table"),b=d("el-pagination"),g=Z("loading");return M((m(),j("div",He,[Object.keys(l.searchData).length>0?(m(),j("div",qe,[u(r,{disabled:e.loading,"form-data":l.searchData,ref:"designForm"},{default:p((()=>[B(e.$slots,"DFSearchForm"),e.$slots.DFSearchForm?w("",!0):(m(),j(R,{key:0},[u(s,{type:"primary",onClick:a.getListData,loading:e.loading},{default:p((()=>[Ke])),_:1},8,["onClick","loading"]),u(s,{onClick:a.searchClear},{default:p((()=>[Je])),_:1},8,["onClick"])],64))])),_:3},8,["disabled","form-data"])])):w("",!0),B(e.$slots,"default"),S("div",Be,[B(e.$slots,"DFTable"),e.$slots.DFTable?w("",!0):(m(),c(y,O({key:0,data:e.tableDataList},l.tableData.config,{ref:"tableEl"}),{default:p((()=>[(m(!0),j(R,null,x(l.tableData.columns,(t=>(m(),c(f,Q(O({key:t.prop||t.label},t)),E({_:2},[t.help?{name:"header",fn:p((e=>[P(A(e.column.label)+" ",1),u(i,{placement:"top"},{content:p((()=>[S("span",{innerHTML:t.help},null,8,Ge)])),default:p((()=>[Ze])),_:2},1024)]))}:void 0,e.$slots[t.prop]?{name:"default",fn:p((l=>[B(e.$slots,t.prop,{row:l.row,$index:l.$index})]))}:void 0]),1040)))),128))])),_:3},16,["data"]))]),l.showPage?(m(),j("div",Qe,[u(b,{currentPage:e.currentPage,"onUpdate:currentPage":t[0]||(t[0]=t=>e.currentPage=t),"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a.handleSizeChange,onCurrentChange:a.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])):w("",!0)],512)),[[g,e.loading]])};W(Y).use(X).use(ae).use(oe).use((e=>{e.component("akFormDesign",Ue),e.component("akTableList",ze)})).mount("#app");export{Ue as _,ze as a,ne as s};
